'use strict';

var i=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var s={ziggy:!1,models:!0,routes:!0,inertia:!0},a=e=>{let t=(r,o)=>{};process.env.NODE_ENV!=="production"&&(t=i("child_process").exec),t(e,r=>{if(r){console.error(`exec error: ${r}`);return}console.log(`${e} ready!`);});},p=(e={})=>({name:"vite-plugin-steward-laravel",async buildStart(){let t=Object.assign({},s,e);t.ziggy&&a("php artisan ziggy:generate"),t.models&&a("php artisan typescriptable:models"),t.routes&&a("php artisan typescriptable:routes"),t.inertia&&a("php artisan typescriptable:inertia");},handleHotUpdate({file:t,server:r}){let o=Object.assign({},s,e);o.autoreload&&(o.autoreload.models&&t.endsWith("app/Models/**/*.php")&&r.restart(),o.autoreload.controllers&&t.endsWith("app/Http/Controllers/**/*.php")&&r.restart(),o.autoreload.routes&&t.endsWith("routes/**/*.php")&&r.restart());}});

exports.Steward = p;
